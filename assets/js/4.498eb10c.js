(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{544:function(t,s,a){t.exports=a.p+"assets/img/Untitled.12645b35.png"},545:function(t,s,a){t.exports=a.p+"assets/img/Untitled1.d0dacd1e.png"},546:function(t,s,a){t.exports=a.p+"assets/img/Untitled2.9f6de3ab.png"},547:function(t,s,a){t.exports=a.p+"assets/img/Untitled3.07da7b46.png"},548:function(t,s,a){t.exports=a.p+"assets/img/Untitled4.64e801a9.png"},549:function(t,s,a){t.exports=a.p+"assets/img/Untitled5.13a5f74f.png"},550:function(t,s,a){t.exports=a.p+"assets/img/Untitled6.3eb8010b.png"},551:function(t,s,a){t.exports=a.p+"assets/img/Untitled7.f791d59a.png"},552:function(t,s,a){t.exports=a.p+"assets/img/Untitled8.191dbd16.png"},553:function(t,s,a){t.exports=a.p+"assets/img/Untitled9.38ef54c3.png"},554:function(t,s,a){t.exports=a.p+"assets/img/Untitled10.479b764d.png"},555:function(t,s,a){t.exports=a.p+"assets/img/Untitled11.7be95cfe.png"},556:function(t,s,a){t.exports=a.p+"assets/img/Untitled12.204c700d.png"},557:function(t,s,a){t.exports=a.p+"assets/img/Untitled13.af31113f.png"},558:function(t,s,a){t.exports=a.p+"assets/img/Untitled14.7404f27a.png"},559:function(t,s,a){t.exports=a.p+"assets/img/Untitled15.6390151b.png"},560:function(t,s,a){t.exports=a.p+"assets/img/Untitled16.631797a4.png"},561:function(t,s,a){t.exports=a.p+"assets/img/Untitled17.a3614fcc.png"},562:function(t,s,a){t.exports=a.p+"assets/img/Untitled18.3aea0563.png"},563:function(t,s,a){t.exports=a.p+"assets/img/Untitled19.4c8a57e9.png"},564:function(t,s,a){t.exports=a.p+"assets/img/Untitled20.9f4f372e.png"},565:function(t,s,a){t.exports=a.p+"assets/img/Untitled21.c5916451.png"},566:function(t,s,a){t.exports=a.p+"assets/img/Untitled22.d4a0d43a.png"},567:function(t,s,a){t.exports=a.p+"assets/img/Untitled23.9e9d122a.png"},568:function(t,s,a){t.exports=a.p+"assets/img/Untitled24.4009fb2e.png"},569:function(t,s,a){t.exports=a.p+"assets/img/Untitled25.75258fe0.png"},570:function(t,s,a){t.exports=a.p+"assets/img/Untitled26.f4a94f14.png"},571:function(t,s,a){t.exports=a.p+"assets/img/Untitled27.2c4bbcb2.png"},572:function(t,s,a){t.exports=a.p+"assets/img/Untitled28.a455abe2.png"},573:function(t,s,a){t.exports=a.p+"assets/img/Untitled29.9f13f006.png"},574:function(t,s,a){t.exports=a.p+"assets/img/Untitled30.a914264e.png"},575:function(t,s,a){t.exports=a.p+"assets/img/Untitled31.ef5a4edb.png"},576:function(t,s,a){t.exports=a.p+"assets/img/Untitled32.02d5771c.png"},577:function(t,s,a){t.exports=a.p+"assets/img/Untitled33.1ec15c06.png"},578:function(t,s,a){t.exports=a.p+"assets/img/Untitled34.0d2fd972.png"},579:function(t,s,a){t.exports=a.p+"assets/img/Untitled35.2d923a3c.png"},580:function(t,s,a){t.exports=a.p+"assets/img/Untitled36.4dac6ffb.png"},581:function(t,s,a){t.exports=a.p+"assets/img/Untitled37.f15cd5ba.png"},582:function(t,s,a){t.exports=a.p+"assets/img/Untitled38.11023ecd.png"},583:function(t,s,a){t.exports=a.p+"assets/img/Untitled39.bfae4828.png"},584:function(t,s,a){t.exports=a.p+"assets/img/Untitled40.d52fc024.png"},646:function(t,s,a){"use strict";a.r(s);var r=a(24),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"elasticsearch"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch"}},[t._v("#")]),t._v(" Elasticsearch")]),t._v(" "),r("h2",{attrs:{id:"_1-elasticsearch产品简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-elasticsearch产品简介"}},[t._v("#")]),t._v(" 1.Elasticsearch产品简介")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://www.elastic.co/cn/elastic-stack/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.elastic.co/cn/elastic-stack/"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("img",{attrs:{src:a(544),alt:"Untitled.png"}})]),t._v(" "),r("p",[t._v("文档："),r("a",{attrs:{href:"https://www.elastic.co/guide/cn/elasticsearch/guide/current/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.elastic.co/guide/cn/elasticsearch/guide/current/index.html"),r("OutboundLink")],1)]),t._v(" "),r("h2",{attrs:{id:"_2-elasticsearch与kibana入门"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-elasticsearch与kibana入门"}},[t._v("#")]),t._v(" 2.Elasticsearch与Kibana入门")]),t._v(" "),r("h3",{attrs:{id:"_2-1-安装与运行"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-安装与运行"}},[t._v("#")]),t._v(" 2.1.安装与运行")]),t._v(" "),r("h4",{attrs:{id:"_2-1-1-安装jdk1-8"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-安装jdk1-8"}},[t._v("#")]),t._v(" 2.1.1.安装JDK1.8")]),t._v(" "),r("h4",{attrs:{id:"_2-1-2-下载安装elasticsearch"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-下载安装elasticsearch"}},[t._v("#")]),t._v(" 2.1.2.下载安装Elasticsearch")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://www.elastic.co/cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.elastic.co/cn/"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"https://www.elastic.co/cn/elastic-stack/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.elastic.co/cn/elastic-stack/"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"https://www.elastic.co/cn/elasticsearch/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.elastic.co/cn/elasticsearch/"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("img",{attrs:{src:a(545),alt:"Untitled1.png"}})]),t._v(" "),r("p",[r("a",{attrs:{href:"http://localhost:9200/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:9200/"),r("OutboundLink")],1)]),t._v(" "),r("h4",{attrs:{id:"_2-1-3-配置elasticsearch"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-配置elasticsearch"}},[t._v("#")]),t._v(" 2.1.3.配置Elasticsearch")]),t._v(" "),r("p",[r("img",{attrs:{src:a(546),alt:"Untitled2.png"}})]),t._v(" "),r("p",[t._v("配置启动时JVM参数:")]),t._v(" "),r("p",[t._v("-Xms2g")]),t._v(" "),r("p",[t._v("-Xms2g")]),t._v(" "),r("p",[r("img",{attrs:{src:a(547),alt:"Untitled3.png"}})]),t._v(" "),r("p",[t._v("运行有两种模式：")]),t._v(" "),r("p",[r("img",{attrs:{src:a(548),alt:"Untitled4.png"}})]),t._v(" "),r("h4",{attrs:{id:"_2-1-4-配置启动elasticsearch集群"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-配置启动elasticsearch集群"}},[t._v("#")]),t._v(" 2.1.4.配置启动Elasticsearch集群")]),t._v(" "),r("p",[r("img",{attrs:{src:a(549),alt:"Untitled5.png"}})]),t._v(" "),r("p",[t._v("./elasticsearch.bat")]),t._v(" "),r("p",[t._v("./elasticsearch.bat -Ehttp.port=8200 -Epath.data=node2")]),t._v(" "),r("p",[t._v("./elasticsearch.bat -Ehttp.port=7200 -Epath.data=node3")]),t._v(" "),r("p",[r("a",{attrs:{href:"http://localhost:9200/_cat/nodes?v",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:9200/_cat/nodes?v"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"http://localhost:9200/_cat/nodes?v",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:9200/_cat/nodes"),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("*为主节点")]),t._v(" "),r("p",[r("a",{attrs:{href:"http://localhost:9200/_cat/nodes?v",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:9200/_"),r("OutboundLink")],1),t._v("cluster/stats")]),t._v(" "),r("h4",{attrs:{id:"_2-1-5-kibana安装与运行"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-5-kibana安装与运行"}},[t._v("#")]),t._v(" 2.1.5.Kibana安装与运行")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://www.elastic.co/cn/kibana/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.elastic.co/cn/kibana/"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"https://www.elastic.co/cn/downloads/kibana",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.elastic.co/cn/downloads/kibana"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("img",{attrs:{src:a(550),alt:"Untitled6.png"}})]),t._v(" "),r("h4",{attrs:{id:"_2-1-6-kibana配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-6-kibana配置"}},[t._v("#")]),t._v(" 2.1.6.Kibana配置")]),t._v(" "),r("p",[r("img",{attrs:{src:a(551),alt:"Untitled7.png"}})]),t._v(" "),r("h4",{attrs:{id:"_2-1-7-kibana常用功能"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-7-kibana常用功能"}},[t._v("#")]),t._v(" 2.1.7.Kibana常用功能")]),t._v(" "),r("p",[r("img",{attrs:{src:a(552),alt:"Untitled8.png"}})]),t._v(" "),r("h4",{attrs:{id:"_2-1-8-elasticsearch常用术语"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-8-elasticsearch常用术语"}},[t._v("#")]),t._v(" 2.1.8.Elasticsearch常用术语")]),t._v(" "),r("p",[t._v("Document文档数据")]),t._v(" "),r("p",[t._v("Index索引，理解成Mysql的数据库,Document都存储在Index中")]),t._v(" "),r("p",[t._v("Type索引中的数据类型，为myslq表的数据类型，简单理解为table")]),t._v(" "),r("p",[t._v("Field字段，文档的属性")]),t._v(" "),r("p",[t._v("Query DSL查询语法")]),t._v(" "),r("h4",{attrs:{id:"_2-1-9-elasticsearch-crud操作"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-9-elasticsearch-crud操作"}},[t._v("#")]),t._v(" 2.1.9.Elasticsearch CRUD操作")]),t._v(" "),r("p",[r("strong",[t._v("创建：")])]),t._v(" "),r("p",[r("img",{attrs:{src:a(553),alt:"Untitled9.png"}})]),t._v(" "),r("p",[t._v("accounts 为Index，person为Type")]),t._v(" "),r("p",[t._v("我们在accounts 这个Index的下面person为Type的下面创建1个id为1的文档.name...等都是文档字段。")]),t._v(" "),r("p",[t._v("使用Kibana的Dev Tools运行。")]),t._v(" "),r("p",[r("img",{attrs:{src:a(554),alt:"Untitled10.png"}})]),t._v(" "),r("p",[r("strong",[t._v("读取：")])]),t._v(" "),r("p",[r("img",{attrs:{src:a(555),alt:"Untitled11.png"}})]),t._v(" "),r("p",[r("img",{attrs:{src:a(556),alt:"Untitled12.png"}})]),t._v(" "),r("p",[r("strong",[t._v("修改：")])]),t._v(" "),r("p",[r("img",{attrs:{src:a(557),alt:"Untitled13.png"}})]),t._v(" "),r("p",[r("img",{attrs:{src:a(558),alt:"Untitled14.png"}})]),t._v(" "),r("p",[r("strong",[t._v("删除：")])]),t._v(" "),r("p",[r("img",{attrs:{src:a(559),alt:"Untitled15.png"}})]),t._v(" "),r("p",[r("img",{attrs:{src:a(560),alt:"Untitled16.png"}})]),t._v(" "),r("h4",{attrs:{id:"_2-1-10-elasticsearch-查询操作"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-10-elasticsearch-查询操作"}},[t._v("#")]),t._v(" 2.1.10.Elasticsearch 查询操作")]),t._v(" "),r("p",[r("strong",[t._v("有2种形势:")])]),t._v(" "),r("ol",[r("li",[t._v("Query String:")])]),t._v(" "),r("div",{staticClass:"language-jsx line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-jsx"}},[r("code",[r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("accounts"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("person"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("_search"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("q"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"took"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("989")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"timed_out"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_shards"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"total"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"successful"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"skipped"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"failed"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"hits"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"total"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"value"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"relation"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eq"')]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"max_score"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"hits"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_index"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accounts"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_type"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"person"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_id"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_score"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_source"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"name"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yuhang"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"age"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br"),r("span",{staticClass:"line-number"},[t._v("9")]),r("br"),r("span",{staticClass:"line-number"},[t._v("10")]),r("br"),r("span",{staticClass:"line-number"},[t._v("11")]),r("br"),r("span",{staticClass:"line-number"},[t._v("12")]),r("br"),r("span",{staticClass:"line-number"},[t._v("13")]),r("br"),r("span",{staticClass:"line-number"},[t._v("14")]),r("br"),r("span",{staticClass:"line-number"},[t._v("15")]),r("br"),r("span",{staticClass:"line-number"},[t._v("16")]),r("br"),r("span",{staticClass:"line-number"},[t._v("17")]),r("br"),r("span",{staticClass:"line-number"},[t._v("18")]),r("br"),r("span",{staticClass:"line-number"},[t._v("19")]),r("br"),r("span",{staticClass:"line-number"},[t._v("20")]),r("br"),r("span",{staticClass:"line-number"},[t._v("21")]),r("br"),r("span",{staticClass:"line-number"},[t._v("22")]),r("br"),r("span",{staticClass:"line-number"},[t._v("23")]),r("br"),r("span",{staticClass:"line-number"},[t._v("24")]),r("br"),r("span",{staticClass:"line-number"},[t._v("25")]),r("br"),r("span",{staticClass:"line-number"},[t._v("26")]),r("br"),r("span",{staticClass:"line-number"},[t._v("27")]),r("br"),r("span",{staticClass:"line-number"},[t._v("28")]),r("br"),r("span",{staticClass:"line-number"},[t._v("29")]),r("br"),r("span",{staticClass:"line-number"},[t._v("30")]),r("br"),r("span",{staticClass:"line-number"},[t._v("31")]),r("br")])]),r("ol",{attrs:{start:"2"}},[r("li",[t._v("Query DSL:")])]),t._v(" "),r("div",{staticClass:"language-jsx line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-jsx"}},[r("code",[r("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("accounts"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("person"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("_search\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"query"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"match"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"name"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yuhang"')]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"took"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("997")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"timed_out"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_shards"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"total"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"successful"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"skipped"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"failed"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"hits"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"total"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"value"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"relation"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eq"')]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"max_score"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.18232156")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"hits"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_index"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accounts"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_type"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"person"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_id"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_score"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.18232156")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_source"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"name"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yuhang"')]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_index"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accounts"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_type"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"person"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_id"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_score"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.18232156")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"_source"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"name"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yuhang"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),r("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"age"')]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n        "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br"),r("span",{staticClass:"line-number"},[t._v("9")]),r("br"),r("span",{staticClass:"line-number"},[t._v("10")]),r("br"),r("span",{staticClass:"line-number"},[t._v("11")]),r("br"),r("span",{staticClass:"line-number"},[t._v("12")]),r("br"),r("span",{staticClass:"line-number"},[t._v("13")]),r("br"),r("span",{staticClass:"line-number"},[t._v("14")]),r("br"),r("span",{staticClass:"line-number"},[t._v("15")]),r("br"),r("span",{staticClass:"line-number"},[t._v("16")]),r("br"),r("span",{staticClass:"line-number"},[t._v("17")]),r("br"),r("span",{staticClass:"line-number"},[t._v("18")]),r("br"),r("span",{staticClass:"line-number"},[t._v("19")]),r("br"),r("span",{staticClass:"line-number"},[t._v("20")]),r("br"),r("span",{staticClass:"line-number"},[t._v("21")]),r("br"),r("span",{staticClass:"line-number"},[t._v("22")]),r("br"),r("span",{staticClass:"line-number"},[t._v("23")]),r("br"),r("span",{staticClass:"line-number"},[t._v("24")]),r("br"),r("span",{staticClass:"line-number"},[t._v("25")]),r("br"),r("span",{staticClass:"line-number"},[t._v("26")]),r("br"),r("span",{staticClass:"line-number"},[t._v("27")]),r("br"),r("span",{staticClass:"line-number"},[t._v("28")]),r("br"),r("span",{staticClass:"line-number"},[t._v("29")]),r("br"),r("span",{staticClass:"line-number"},[t._v("30")]),r("br"),r("span",{staticClass:"line-number"},[t._v("31")]),r("br"),r("span",{staticClass:"line-number"},[t._v("32")]),r("br"),r("span",{staticClass:"line-number"},[t._v("33")]),r("br"),r("span",{staticClass:"line-number"},[t._v("34")]),r("br"),r("span",{staticClass:"line-number"},[t._v("35")]),r("br"),r("span",{staticClass:"line-number"},[t._v("36")]),r("br"),r("span",{staticClass:"line-number"},[t._v("37")]),r("br"),r("span",{staticClass:"line-number"},[t._v("38")]),r("br"),r("span",{staticClass:"line-number"},[t._v("39")]),r("br"),r("span",{staticClass:"line-number"},[t._v("40")]),r("br"),r("span",{staticClass:"line-number"},[t._v("41")]),r("br"),r("span",{staticClass:"line-number"},[t._v("42")]),r("br"),r("span",{staticClass:"line-number"},[t._v("43")]),r("br"),r("span",{staticClass:"line-number"},[t._v("44")]),r("br"),r("span",{staticClass:"line-number"},[t._v("45")]),r("br"),r("span",{staticClass:"line-number"},[t._v("46")]),r("br"),r("span",{staticClass:"line-number"},[t._v("47")]),r("br")])]),r("h2",{attrs:{id:"_3-beats入门"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-beats入门"}},[t._v("#")]),t._v(" 3.Beats入门")]),t._v(" "),r("h3",{attrs:{id:"_3-1-beats简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-beats简介"}},[t._v("#")]),t._v(" 3.1.Beats简介")]),t._v(" "),r("p",[t._v("Beats 是一个免费且开放的平台，集合了多种单一用途数据采集器。它们从成百上千或成千上万台机器和系统向 Logstash 或 Elasticsearch 发送数据。")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://www.elastic.co/cn/beats/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.elastic.co/cn/beats/"),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("产品系列：")]),t._v(" "),r("p",[r("img",{attrs:{src:a(561),alt:"Untitled17.png"}})]),t._v(" "),r("p",[t._v("FILEBEAT：无论您是从安全设备、云、容器、主机还是 OT 进行数据收集，Filebeat 都将为您提供一种轻量型方法，用于转发和汇总日志与文件，让简单的事情不再繁杂。")]),t._v(" "),r("p",[t._v("METRICBEAT：用于从系统和服务收集指标。Metricbeat 能够以一种轻量型的方式，输送各种系统和服务统计数据，从 CPU 到内存，从 Redis 到 Nginx，不一而足。")]),t._v(" "),r("p",[t._v("PACKETBEAT：监测网络流量对于获得可观测性和保护环境至关重要，有助于确保高水平的性能和安全性。Packetbeat 是一款轻量型网络数据包分析器，能够将主机和容器中的数据发送至 Logstash 或 Elasticsearch。抓包分析服务器网络。")]),t._v(" "),r("p",[t._v("WINLOGBEAT：用于密切监控基于 Windows 的基础设施上发生的事件。使用 Winlogbeat，将 Windows 事件日志流式传输至 Elasticsearch 和 Logstash。")]),t._v(" "),r("p",[t._v("HEARTBEAT：通过主动探测来监测服务的可用性。通过给定 URL 列表，Heartbeat 仅仅询问：网站运行正常吗？Heartbeat 会将此信息和响应时间发送至 Elastic 的其他部分，以进行进一步分析。健康检查。")]),t._v(" "),r("p",[t._v("地位：")]),t._v(" "),r("p",[r("img",{attrs:{src:a(562),alt:"Untitled18.png"}})]),t._v(" "),r("p",[t._v("Beats把所有数据直接传输给elasticsearch，或者传输给logstash处理转换后再传入elasticsearch。最后通过kibana做可视化展示。")]),t._v(" "),r("h3",{attrs:{id:"_3-2-filebeat简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-filebeat简介"}},[t._v("#")]),t._v(" 3.2.Filebeat简介")]),t._v(" "),r("p",[t._v("filebeat 不需要知道 master 节点，你给 filebeat 的是 data 节点地址即可，不必给 master 节点地址")]),t._v(" "),r("h4",{attrs:{id:"_3-2-1-处理流程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-处理流程"}},[t._v("#")]),t._v(" 3.2.1.处理流程")]),t._v(" "),r("ul",[r("li",[t._v("输入Input")]),t._v(" "),r("li",[t._v("处理Filter")]),t._v(" "),r("li",[t._v("输出Output")])]),t._v(" "),r("h4",{attrs:{id:"_3-2-2-构成"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-构成"}},[t._v("#")]),t._v(" 3.2.2.构成")]),t._v(" "),r("p",[r("img",{attrs:{src:a(563),alt:"Untitled19.png"}})]),t._v(" "),r("p",[r("strong",[t._v("Prospector:")])]),t._v(" "),r("p",[t._v("针对配置的日志文件探测文件是否有变化，有变化就收集新的日志。1个Filebeat可以有多个Prospector。Prospector 1针对/var/log/*.log所有log文件。Prospector 2针对/var/log/apache2/*下的所有文件。")]),t._v(" "),r("p",[r("strong",[t._v("Harvester:")])]),t._v(" "),r("p",[t._v("每个Prospector针对自己匹配的日志文件会为每一个日志文件启动1个Harvester。")]),t._v(" "),r("h4",{attrs:{id:"_3-2-2-filebeat-input配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-filebeat-input配置"}},[t._v("#")]),t._v(" 3.2.2.Filebeat Input配置")]),t._v(" "),r("p",[t._v("yaml语法：")]),t._v(" "),r("p",[r("img",{attrs:{src:a(564),alt:"Untitled20.png"}})]),t._v(" "),r("p",[t._v("input_type为数据输入类型，目前有2个类型：log、stdin")]),t._v(" "),r("p",[t._v("paths是指定位置")]),t._v(" "),r("h4",{attrs:{id:"_3-2-3-filebeat-output配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-3-filebeat-output配置"}},[t._v("#")]),t._v(" 3.2.3.Filebeat Output配置")]),t._v(" "),r("p",[r("strong",[t._v("支持输出对象类型：")])]),t._v(" "),r("ul",[r("li",[t._v("console")]),t._v(" "),r("li",[t._v("elasticsearch")]),t._v(" "),r("li",[t._v("logstach")]),t._v(" "),r("li",[t._v("kafka")]),t._v(" "),r("li",[t._v("redis")]),t._v(" "),r("li",[t._v("file")])]),t._v(" "),r("p",[t._v("配置为elasticsearch和console：")]),t._v(" "),r("p",[r("img",{attrs:{src:a(565),alt:"Untitled21.png"}})]),t._v(" "),r("h4",{attrs:{id:"_3-2-4-filebeat-filter配置简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-4-filebeat-filter配置简介"}},[t._v("#")]),t._v(" 3.2.4.Filebeat Filter配置简介")]),t._v(" "),r("p",[r("img",{attrs:{src:a(566),alt:"Untitled22.png"}})]),t._v(" "),r("p",[t._v("Include_lines:当达到这个条件就读入这一行。")]),t._v(" "),r("p",[t._v("exclude_lines:当达到这个条件就不读这一行。")]),t._v(" "),r("p",[t._v("exclude_files:当达到这个条件就不读这文件。")]),t._v(" "),r("p",[t._v("drop_event:当满足这一条件就不输出，直接扔掉")]),t._v(" "),r("p",[t._v("drop_fields:当满足这一条件就不输出，把某一字段扔掉")]),t._v(" "),r("p",[t._v("drop_event:当满足这一条件就不输出，直接扔掉")]),t._v(" "),r("p",[t._v("drop_event:当满足这一条件就不输出，直接扔掉")]),t._v(" "),r("p",[t._v("Decode_json_fields:对于这条数据里面符合json格式的字段做json解析")]),t._v(" "),r("p",[t._v("Include_fields:加入一些字段或只想取数据里面的某一些字段")]),t._v(" "),r("p",[t._v("例子：")]),t._v(" "),r("p",[t._v("1.当DBG开头的就丢掉，把debbug日志丢弃")]),t._v(" "),r("p",[r("img",{attrs:{src:a(567),alt:"Untitled23.png"}})]),t._v(" "),r("p",[t._v("2.inner后数据是字符串需要做json处理，恢复正常json格式")]),t._v(" "),r("p",[r("img",{attrs:{src:a(568),alt:"Untitled24.png"}})]),t._v(" "),r("p",[t._v("新特性：")]),t._v(" "),r("p",[r("img",{attrs:{src:a(569),alt:"Untitled25.png"}})]),t._v(" "),r("h4",{attrs:{id:"_3-2-5-filebeat-module简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-5-filebeat-module简介"}},[t._v("#")]),t._v(" 3.2.5.Filebeat Module简介")]),t._v(" "),r("p",[r("img",{attrs:{src:a(570),alt:"Untitled26.png"}})]),t._v(" "),r("h4",{attrs:{id:"_3-2-6-filebeat-收集nginx日志实践"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-6-filebeat-收集nginx日志实践"}},[t._v("#")]),t._v(" 3.2.6.Filebeat 收集Nginx日志实践")]),t._v(" "),r("p",[t._v("通过stdin收集日志，通过console输出")]),t._v(" "),r("p",[t._v("1.下载Filebeat")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://www.elastic.co/cn/downloads/beats/filebeat",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.elastic.co/cn/downloads/beats/filebeat"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"https://www.elastic.co/cn/downloads/beats/filebeat",target:"_blank",rel:"noopener noreferrer"}},[t._v("filebeat"),r("OutboundLink")],1),t._v("是基于go-lang开发的")]),t._v(" "),r("p",[t._v("2.配置filebeat.yml")]),t._v(" "),r("div",{staticClass:"language-jsx line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-jsx"}},[r("code",[t._v("# "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" Filebeat inputs "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n\nfilebeat"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inputs"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n\n# Each "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" is an input"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Most options can be "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" at the input level"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" so\n# you can use different inputs "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" various configurations"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n# Below are the input specific configurations"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" type"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" log\n\n  # Change to "),r("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" to enable "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" input configuration"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("enabled")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n  # Paths that should be crawled and fetched"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Glob based paths"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("paths")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    #"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("log"),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*.log\n    #- c:\\programdata\\elasticsearch\\logs\\*\n    - D:\\Application\\elasticsearch-7.14.0\\logs\\elasticsearch.log\n\n# ------------------------------- Console Output -------------------------------\noutput.console:\n  # Boolean flag to enable or disable the output module.\n  enabled: true\n\n  # Configure JSON encoding\n  codec.json:\n    # Pretty-print JSON event\n    pretty: true\n\n    # Configure escaping HTML symbols in strings.\n    #escape_html: false\n")])])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br"),r("span",{staticClass:"line-number"},[t._v("4")]),r("br"),r("span",{staticClass:"line-number"},[t._v("5")]),r("br"),r("span",{staticClass:"line-number"},[t._v("6")]),r("br"),r("span",{staticClass:"line-number"},[t._v("7")]),r("br"),r("span",{staticClass:"line-number"},[t._v("8")]),r("br"),r("span",{staticClass:"line-number"},[t._v("9")]),r("br"),r("span",{staticClass:"line-number"},[t._v("10")]),r("br"),r("span",{staticClass:"line-number"},[t._v("11")]),r("br"),r("span",{staticClass:"line-number"},[t._v("12")]),r("br"),r("span",{staticClass:"line-number"},[t._v("13")]),r("br"),r("span",{staticClass:"line-number"},[t._v("14")]),r("br"),r("span",{staticClass:"line-number"},[t._v("15")]),r("br"),r("span",{staticClass:"line-number"},[t._v("16")]),r("br"),r("span",{staticClass:"line-number"},[t._v("17")]),r("br"),r("span",{staticClass:"line-number"},[t._v("18")]),r("br"),r("span",{staticClass:"line-number"},[t._v("19")]),r("br"),r("span",{staticClass:"line-number"},[t._v("20")]),r("br"),r("span",{staticClass:"line-number"},[t._v("21")]),r("br"),r("span",{staticClass:"line-number"},[t._v("22")]),r("br"),r("span",{staticClass:"line-number"},[t._v("23")]),r("br"),r("span",{staticClass:"line-number"},[t._v("24")]),r("br"),r("span",{staticClass:"line-number"},[t._v("25")]),r("br"),r("span",{staticClass:"line-number"},[t._v("26")]),r("br"),r("span",{staticClass:"line-number"},[t._v("27")]),r("br"),r("span",{staticClass:"line-number"},[t._v("28")]),r("br"),r("span",{staticClass:"line-number"},[t._v("29")]),r("br"),r("span",{staticClass:"line-number"},[t._v("30")]),r("br"),r("span",{staticClass:"line-number"},[t._v("31")]),r("br")])]),r("h3",{attrs:{id:"_3-3-packetbeat简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-packetbeat简介"}},[t._v("#")]),t._v(" 3.3.Packetbeat简介")]),t._v(" "),r("p",[r("img",{attrs:{src:a(571),alt:"Untitled27.png"}})]),t._v(" "),r("p",[r("img",{attrs:{src:a(572),alt:"Untitled28.png"}})]),t._v(" "),r("p",[r("img",{attrs:{src:a(573),alt:"Untitled29.png"}})]),t._v(" "),r("p",[t._v("-strict.perms=false不检查权限，方便运行")]),t._v(" "),r("h2",{attrs:{id:"_4-logstach入门"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-logstach入门"}},[t._v("#")]),t._v(" 4.Logstach入门")]),t._v(" "),r("h3",{attrs:{id:"_4-1-logstach简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-logstach简介"}},[t._v("#")]),t._v(" 4.1.Logstach简介")]),t._v(" "),r("p",[t._v("Data Shipper,ETL,Extract,Transform,Load")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://www.elastic.co/cn/logstash/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.elastic.co/cn/logstash/"),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("集中、转换和存储数据")]),t._v(" "),r("p",[t._v("Logstash 是免费且开放的服务器端数据处理管道，能够从多个来源采集数据，转换数据，然后将数据发送到您最喜欢的“存储库”中。")]),t._v(" "),r("h3",{attrs:{id:"_4-2-logstach处理流程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-logstach处理流程"}},[t._v("#")]),t._v(" 4.2.Logstach处理流程")]),t._v(" "),r("p",[t._v("Input：file、redis、beats、kafka")]),t._v(" "),r("p",[t._v("Filter：grok(表达式，类似正则)、mutate(结构化后数据增删改查)、drop、date")]),t._v(" "),r("p",[t._v("Output：stdout、elasticsearch、kakfa、redis")]),t._v(" "),r("h3",{attrs:{id:"_4-3-logstach配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-logstach配置"}},[t._v("#")]),t._v(" 4.3.Logstach配置")]),t._v(" "),r("h4",{attrs:{id:"_4-3-1-处理流程-input和output配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-1-处理流程-input和output配置"}},[t._v("#")]),t._v(" 4.3.1.处理流程—input和output配置")]),t._v(" "),r("p",[r("img",{attrs:{src:a(574),alt:"Untitled30.png"}})]),t._v(" "),r("h4",{attrs:{id:"_4-3-2-处理流程-filter配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-2-处理流程-filter配置"}},[t._v("#")]),t._v(" 4.3.2.处理流程—Filter配置")]),t._v(" "),r("p",[r("img",{attrs:{src:a(575),alt:"Untitled31.png"}})]),t._v(" "),r("p",[r("img",{attrs:{src:a(576),alt:"Untitled32.png"}})]),t._v(" "),r("h2",{attrs:{id:"_5-实战-分析elasticsearch查询语句"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-实战-分析elasticsearch查询语句"}},[t._v("#")]),t._v(" 5.实战：分析Elasticsearch查询语句")]),t._v(" "),r("h3",{attrs:{id:"_5-1-目标"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-目标"}},[t._v("#")]),t._v(" 5.1.目标")]),t._v(" "),r("p",[t._v("收集Elasticsearch集群的查询语句")]),t._v(" "),r("p",[t._v("分析查询语句的常用语句、响应时长等")]),t._v(" "),r("h3",{attrs:{id:"_5-2-方案"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-方案"}},[t._v("#")]),t._v(" 5.2.方案")]),t._v(" "),r("p",[t._v("应用Packetbeat + Logstash完成数据收集工作")]),t._v(" "),r("p",[t._v("使用Kibana + Elasticsearch完成数据分析工作")]),t._v(" "),r("p",[r("img",{attrs:{src:a(577),alt:"Untitled33.png"}})]),t._v(" "),r("h3",{attrs:{id:"_5-3-环境配置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-环境配置"}},[t._v("#")]),t._v(" 5.3.环境配置")]),t._v(" "),r("p",[r("img",{attrs:{src:a(578),alt:"Untitled34.png"}})]),t._v(" "),r("h3",{attrs:{id:"_5-4-方案之logstach"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-方案之logstach"}},[t._v("#")]),t._v(" 5.4.方案之logstach")]),t._v(" "),r("p",[r("img",{attrs:{src:a(579),alt:"Untitled35.png"}})]),t._v(" "),r("h3",{attrs:{id:"_5-5-方案之packetbeat"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-方案之packetbeat"}},[t._v("#")]),t._v(" 5.5.方案之packetbeat")]),t._v(" "),r("p",[r("img",{attrs:{src:a(580),alt:"Untitled36.png"}})]),t._v(" "),r("h3",{attrs:{id:"_5-6-kibana数据分析"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-kibana数据分析"}},[t._v("#")]),t._v(" 5.6.kibana数据分析")]),t._v(" "),r("p",[r("img",{attrs:{src:a(581),alt:"Untitled37.png"}})]),t._v(" "),r("p",[r("img",{attrs:{src:a(582),alt:"Untitled38.png"}})]),t._v(" "),r("h2",{attrs:{id:"_6-总结与建议"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_6-总结与建议"}},[t._v("#")]),t._v(" 6.总结与建议")]),t._v(" "),r("p",[r("img",{attrs:{src:a(583),alt:"Untitled39.png"}})]),t._v(" "),r("p",[r("img",{attrs:{src:a(584),alt:"Untitled40.png"}})])])}),[],!1,null,null,null);s.default=e.exports}}]);