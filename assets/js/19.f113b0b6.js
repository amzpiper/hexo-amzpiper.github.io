(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{643:function(s,n,a){"use strict";a.r(n);var e=a(24),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"java-8-stream"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#java-8-stream"}},[s._v("#")]),s._v(" Java 8 - Stream")]),s._v(" "),a("p",[s._v("blog.csdn.net/mu_wind/article/details/109516995")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://mmbiz.qpic.cn/mmbiz_png/oTKHc6F8tshlcDdYLwybrjgMR9CvUtJxLfiaDrpVicXB9IRHibwib8ahP8StxILIwao9J1nG13d1E76ZNaB3domqiaw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://mmbiz.qpic.cn/mmbiz_png/oTKHc6F8tshlcDdYLwybrjgMR9CvUtJxLfiaDrpVicXB9IRHibwib8ahP8StxILIwao9J1nG13d1E76ZNaB3domqiaw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("先贴上几个案例，水平高超的同学可以挑战一下：")]),s._v(" "),a("ol",[a("li",[s._v("从员工集合中筛选出salary大于8000的员工，并放置到新的集合里。")]),s._v(" "),a("li",[s._v("统计员工的最高薪资、平均薪资、薪资之和。")]),s._v(" "),a("li",[s._v("将员工按薪资从高到低排序，同样薪资者年龄小者在前。")]),s._v(" "),a("li",[s._v("将员工按性别分类，将员工按性别和地区分类，将员工按薪资是否高于8000分为两部分。")])]),s._v(" "),a("p",[s._v("用传统的迭代处理也不是很难，但代码就显得冗余了，跟Stream相比高下立判。Java 8 是一个非常成功的版本，这个版本新增的"),a("code",[s._v("Stream")]),s._v("，配合同版本出现的 "),a("code",[s._v("Lambda")]),s._v(" ，给我们操作集合（Collection）提供了极大的便利。")]),s._v(" "),a("h2",{attrs:{id:"_1-那么什么是stream"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-那么什么是stream"}},[s._v("#")]),s._v(" 1. "),a("strong",[s._v("那么什么是Stream")])]),s._v(" "),a("p",[a("code",[s._v("Stream")]),s._v("将要处理的元素集合看作一种流，在流的过程中，借助"),a("code",[s._v("Stream API")]),s._v("对流中的元素进行操作，比如：筛选、排序、聚合等。")]),s._v(" "),a("p",[a("code",[s._v("Stream")]),s._v("可以由数组或集合创建，对流的操作分为两种：")]),s._v(" "),a("ol",[a("li",[s._v("中间操作，每次返回一个新的流，可以有多个。")]),s._v(" "),a("li",[s._v("终端操作，每个流只能进行一次终端操作，终端操作结束后流无法再次使用。终端操作会产生一个新的集合或值。")])]),s._v(" "),a("p",[s._v("另外，"),a("code",[s._v("Stream")]),s._v("有几个特性：")]),s._v(" "),a("ol",[a("li",[s._v("stream不存储数据，而是按照特定的规则对数据进行计算，一般会输出结果。")]),s._v(" "),a("li",[s._v("stream不会改变数据源，通常情况下会产生一个新的集合或一个值。")]),s._v(" "),a("li",[s._v("stream具有延迟执行特性，只有调用终端操作时，中间操作才会执行。")])]),s._v(" "),a("h2",{attrs:{id:"_2-stream的创建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-stream的创建"}},[s._v("#")]),s._v(" "),a("strong",[s._v("2. Stream的创建")])]),s._v(" "),a("p",[a("code",[s._v("Stream")]),s._v("可以通过集合数组创建。")]),s._v(" "),a("p",[s._v("1、通过 "),a("code",[s._v("java.util.Collection.stream()")]),s._v(" 方法用集合创建流")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('List<String> list = Arrays.asList("a", "b", "c");\n// 创建一个顺序流\nStream<String> stream = list.stream();\n// 创建一个并行流\nStream<String> parallelStream = list.parallelStream();\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("2、使用"),a("code",[s._v("java.util.Arrays.stream(T[] array)")]),s._v("方法用数组创建流")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("int[] array={1,3,5,6,8};\nIntStream stream = Arrays.stream(array);\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("3、使用"),a("code",[s._v("Stream")]),s._v("的静态方法："),a("code",[s._v("of()、iterate()、generate()")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Stream<Integer> stream = Stream.of(1, 2, 3, 4, 5, 6);\n\nStream<Integer> stream2 = Stream.iterate(0, (x) -> x + 3).limit(4);\nstream2.forEach(System.out::println);\n\nStream<Double> stream3 = Stream.generate(Math::random).limit(3);\nstream3.forEach(System.out::println);\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("输出结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("0 3 6 9 0.6796156909271994 0.1914314208854283 0.8116932592396652")])]),s._v(" "),a("p",[a("strong",[a("code",[s._v("stream")]),s._v("和"),a("code",[s._v("parallelStream")]),s._v("的简单区分：")]),s._v(" "),a("code",[s._v("stream")]),s._v("是顺序流，由主线程按顺序对流执行操作，而"),a("code",[s._v("parallelStream")]),s._v("是并行流，内部以多线程并行执行的方式对流进行操作，但前提是流中的数据处理没有顺序要求。例如筛选集合中的奇数，两者的处理不同之处：")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://mmbiz.qpic.cn/mmbiz_png/oTKHc6F8tshlcDdYLwybrjgMR9CvUtJxv7ia3b9wP4mZicicEp4YFdA7oHkaA8Uj4RLGo4xkhj5ypiaVYHM9pjXKpA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://mmbiz.qpic.cn/mmbiz_png/oTKHc6F8tshlcDdYLwybrjgMR9CvUtJxv7ia3b9wP4mZicicEp4YFdA7oHkaA8Uj4RLGo4xkhj5ypiaVYHM9pjXKpA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("如果流中的数据量足够大，并行流可以加快处速度。除了直接创建并行流，还可以通过"),a("code",[s._v("parallel()")]),s._v("把顺序流转换成并行流：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Optional<Integer> findFirst = list.stream().parallel().filter(x->x>6).findFirst();\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("在使用stream之前，先理解一个概念："),a("code",[s._v("Optional")]),s._v(" 。")]),s._v(" "),a("blockquote",[a("p",[s._v("Optional类是一个可以为null的容器对象。如果值存在则isPresent()方法会返回true，调用get()方法会返回该对象。更详细说明请见：菜鸟教程Java 8 Optional类")])]),s._v(" "),a("p",[a("strong",[s._v("接下来，大批代码向你袭来！我将用20个案例将Stream的使用整得明明白白，只要跟着敲一遍代码，就能很好地掌握。")])]),s._v(" "),a("p",[a("a",{attrs:{href:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="}},[s._v("data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==")])]),s._v(" "),a("h2",{attrs:{id:"_3-案例使用的员工类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-案例使用的员工类"}},[s._v("#")]),s._v(" "),a("strong",[s._v("3. 案例使用的员工类")])]),s._v(" "),a("p",[s._v("这是后面案例中使用的员工类：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('List<Person> personList = new ArrayList<Person>();\npersonList.add(new Person("Tom", 8900, "male", "New York"));\npersonList.add(new Person("Jack", 7000, "male", "Washington"));\npersonList.add(new Person("Lily", 7800, "female", "Washington"));\npersonList.add(new Person("Anni", 8200, "female", "New York"));\npersonList.add(new Person("Owen", 9500, "male", "New York"));\npersonList.add(new Person("Alisa", 7900, "female", "New York"));\n\nclass Person {\n  private String name;// 姓名\n  private int salary;// 薪资\n  private int age;// 年龄\n  private String sex;//性别\n  private String area;// 地区\n\n// 构造方法\n  public Person(String name, int salary, int age,String sex,String area) {\n    this.name = name;\n    this.salary = salary;\n    this.age = age;\n    this.sex = sex;\n    this.area = area;\n  }\n// 省略了get和set，请自行添加\n\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("h2",{attrs:{id:"_3-1-遍历-匹配-foreach-find-match"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-遍历-匹配-foreach-find-match"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("3.1 遍历/匹配（foreach/find/match）")])])]),s._v(" "),a("p",[a("code",[s._v("Stream")]),s._v("也是支持类似集合的遍历和匹配元素的，只是"),a("code",[s._v("Stream")]),s._v("中的元素是以"),a("code",[s._v("Optional")]),s._v("类型存在的。"),a("code",[s._v("Stream")]),s._v("的遍历、匹配非常简单。")]),s._v(" "),a("p",[a("a",{attrs:{href:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="}},[s._v("data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// import已省略，请自行添加，后面代码亦是\n\npublic class StreamTest {\n  public static void main(String[] args) {\n        List<Integer> list = Arrays.asList(7, 6, 9, 3, 8, 2, 1);\n\n// 遍历输出符合条件的元素\n        list.stream().filter(x -> x > 6).forEach(System.out::println);\n// 匹配第一个\n        Optional<Integer> findFirst = list.stream().filter(x -> x > 6).findFirst();\n// 匹配任意（适用于并行流）\n        Optional<Integer> findAny = list.parallelStream().filter(x -> x > 6).findAny();\n// 是否包含符合特定条件的元素\n        boolean anyMatch = list.stream().anyMatch(x -> x < 6);\n        System.out.println("匹配第一个值：" + findFirst.get());\n        System.out.println("匹配任意一个值：" + findAny.get());\n        System.out.println("是否存在大于6的值：" + anyMatch);\n    }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h2",{attrs:{id:"_3-2-筛选-filter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-筛选-filter"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("3.2 筛选（filter）")])])]),s._v(" "),a("p",[s._v("筛选，是按照一定的规则校验流中的元素，将符合条件的元素提取到新的流中的操作。")]),s._v(" "),a("p",[a("a",{attrs:{href:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="}},[s._v("data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==")])]),s._v(" "),a("h3",{attrs:{id:"案例一-筛选出integer集合中大于7的元素-并打印出来"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例一-筛选出integer集合中大于7的元素-并打印出来"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("案例一：筛选出"),a("code",[s._v("Integer")]),s._v("集合中大于7的元素，并打印出来")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("public class StreamTest {\n  public static void main(String[] args) {\n    List<Integer> list = Arrays.asList(6, 7, 3, 8, 1, 2, 9);\n    Stream<Integer> stream = list.stream();\n    stream.filter(x -> x > 7).forEach(System.out::println);\n  }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("预期结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("8 9")])]),s._v(" "),a("h3",{attrs:{id:"案例二-筛选员工中工资高于8000的人-并形成新的集合。形成新集合依赖collect-收集-后文有详细介绍。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例二-筛选员工中工资高于8000的人-并形成新的集合。形成新集合依赖collect-收集-后文有详细介绍。"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("案例二：筛选员工中工资高于8000的人，并形成新的集合。形成新集合依赖"),a("code",[s._v("collect")]),s._v("（收集），后文有详细介绍。")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    List<Person> personList = new ArrayList<Person>();\n    personList.add(new Person("Tom", 8900, 23, "male", "New York"));\n    personList.add(new Person("Jack", 7000, 25, "male", "Washington"));\n    personList.add(new Person("Lily", 7800, 21, "female", "Washington"));\n    personList.add(new Person("Anni", 8200, 24, "female", "New York"));\n    personList.add(new Person("Owen", 9500, 25, "male", "New York"));\n    personList.add(new Person("Alisa", 7900, 26, "female", "New York"));\n\n    List<String> fiterList = personList.stream().filter(x -> x.getSalary() > 8000).map(Person::getName)\n        .collect(Collectors.toList());\n    System.out.print("高于8000的员工姓名：" + fiterList);\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[s._v("运行结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("高于8000的员工姓名：[Tom, Anni, Owen]")])]),s._v(" "),a("h2",{attrs:{id:"_3-3-聚合-max-min-count"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-聚合-max-min-count"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("3.3 聚合（max/min/count)")])])]),s._v(" "),a("p",[a("code",[s._v("max")]),s._v("、"),a("code",[s._v("min")]),s._v("、"),a("code",[s._v("count")]),s._v("这些字眼你一定不陌生，没错，在mysql中我们常用它们进行数据统计。Java stream中也引入了这些概念和用法，极大地方便了我们对集合、数组的数据统计工作。")]),s._v(" "),a("p",[a("a",{attrs:{href:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="}},[s._v("data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==")])]),s._v(" "),a("h3",{attrs:{id:"案例一-获取string集合中最长的元素。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例一-获取string集合中最长的元素。"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("案例一：获取"),a("code",[s._v("String")]),s._v("集合中最长的元素。")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    List<String> list = Arrays.asList("adnm", "admmt", "pot", "xbangd", "weoujgsd");\n\n    Optional<String> max = list.stream().max(Comparator.comparing(String::length));\n    System.out.println("最长的字符串：" + max.get());\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("输出结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("最长的字符串：weoujgsd")])]),s._v(" "),a("h3",{attrs:{id:"案例二-获取integer集合中的最大值。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例二-获取integer集合中的最大值。"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("案例二：获取"),a("code",[s._v("Integer")]),s._v("集合中的最大值。")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    List<Integer> list = Arrays.asList(7, 6, 9, 4, 11, 6);\n\n// 自然排序\n    Optional<Integer> max = list.stream().max(Integer::compareTo);\n// 自定义排序\n    Optional<Integer> max2 = list.stream().max(new Comparator<Integer>() {\n      @Override\n      public int compare(Integer o1, Integer o2) {\n        return o1.compareTo(o2);\n      }\n    });\n    System.out.println("自然排序的最大值：" + max.get());\n    System.out.println("自定义排序的最大值：" + max2.get());\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("p",[s._v("输出结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("自然排序的最大值：11 自定义排序的最大值：11")])]),s._v(" "),a("h3",{attrs:{id:"案例三-获取员工工资最高的人。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例三-获取员工工资最高的人。"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("案例三：获取员工工资最高的人。")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    List<Person> personList = new ArrayList<Person>();\n    personList.add(new Person("Tom", 8900, 23, "male", "New York"));\n    personList.add(new Person("Jack", 7000, 25, "male", "Washington"));\n    personList.add(new Person("Lily", 7800, 21, "female", "Washington"));\n    personList.add(new Person("Anni", 8200, 24, "female", "New York"));\n    personList.add(new Person("Owen", 9500, 25, "male", "New York"));\n    personList.add(new Person("Alisa", 7900, 26, "female", "New York"));\n\n    Optional<Person> max = personList.stream().max(Comparator.comparingInt(Person::getSalary));\n    System.out.println("员工工资最大值：" + max.get().getSalary());\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("输出结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("员工工资最大值：9500")])]),s._v(" "),a("h3",{attrs:{id:"案例四-计算integer集合中大于6的元素的个数。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例四-计算integer集合中大于6的元素的个数。"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("案例四：计算"),a("code",[s._v("Integer")]),s._v("集合中大于6的元素的个数。")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('import java.util.Arrays;\nimport java.util.List;\n\npublic class StreamTest {\n  public static void main(String[] args) {\n    List<Integer> list = Arrays.asList(7, 6, 4, 8, 2, 11, 9);\n\n    long count = list.stream().filter(x -> x > 6).count();\n    System.out.println("list中大于6的元素个数：" + count);\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("输出结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("list中大于6的元素个数：4")])]),s._v(" "),a("h2",{attrs:{id:"_3-4-映射-map-flatmap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-映射-map-flatmap"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("3.4 映射(map/flatMap)")])])]),s._v(" "),a("p",[s._v("映射，可以将一个流的元素按照一定的映射规则映射到另一个流中。分为"),a("code",[s._v("map")]),s._v("和"),a("code",[s._v("flatMap")]),s._v("：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("map")]),s._v("：接收一个函数作为参数，该函数会被应用到每个元素上，并将其映射成一个新的元素。")]),s._v(" "),a("li",[a("code",[s._v("flatMap")]),s._v("：接收一个函数作为参数，将流中的每个值都换成另一个流，然后把所有流连接成一个流。")])]),s._v(" "),a("p",[a("a",{attrs:{href:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="}},[s._v("data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==")])]),s._v(" "),a("p",[a("a",{attrs:{href:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="}},[s._v("data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==")])]),s._v(" "),a("h3",{attrs:{id:"案例一-英文字符串数组的元素全部改为大写。整数数组每个元素-3。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例一-英文字符串数组的元素全部改为大写。整数数组每个元素-3。"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("案例一：英文字符串数组的元素全部改为大写。整数数组每个元素+3。")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    String[] strArr = { "abcd", "bcdd", "defde", "fTr" };\n    List<String> strList = Arrays.stream(strArr).map(String::toUpperCase).collect(Collectors.toList());\n\n    List<Integer> intList = Arrays.asList(1, 3, 5, 7, 9, 11);\n    List<Integer> intListNew = intList.stream().map(x -> x + 3).collect(Collectors.toList());\n\n    System.out.println("每个元素大写：" + strList);\n    System.out.println("每个元素+3：" + intListNew);\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("输出结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("每个元素大写：[ABCD, BCDD, DEFDE, FTR] 每个元素+3：[4, 6, 8, 10, 12, 14]")])]),s._v(" "),a("h3",{attrs:{id:"案例二-将员工的薪资全部增加1000。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例二-将员工的薪资全部增加1000。"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("案例二：将员工的薪资全部增加1000。")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    List<Person> personList = new ArrayList<Person>();\n    personList.add(new Person("Tom", 8900, 23, "male", "New York"));\n    personList.add(new Person("Jack", 7000, 25, "male", "Washington"));\n    personList.add(new Person("Lily", 7800, 21, "female", "Washington"));\n    personList.add(new Person("Anni", 8200, 24, "female", "New York"));\n    personList.add(new Person("Owen", 9500, 25, "male", "New York"));\n    personList.add(new Person("Alisa", 7900, 26, "female", "New York"));\n\n// 不改变原来员工集合的方式\n    List<Person> personListNew = personList.stream().map(person -> {\n      Person personNew = new Person(person.getName(), 0, 0, null, null);\n      personNew.setSalary(person.getSalary() + 10000);\n      return personNew;\n    }).collect(Collectors.toList());\n    System.out.println("一次改动前：" + personList.get(0).getName() + "--\x3e" + personList.get(0).getSalary());\n    System.out.println("一次改动后：" + personListNew.get(0).getName() + "--\x3e" + personListNew.get(0).getSalary());\n\n// 改变原来员工集合的方式\n    List<Person> personListNew2 = personList.stream().map(person -> {\n      person.setSalary(person.getSalary() + 10000);\n      return person;\n    }).collect(Collectors.toList());\n    System.out.println("二次改动前：" + personList.get(0).getName() + "--\x3e" + personListNew.get(0).getSalary());\n    System.out.println("二次改动后：" + personListNew2.get(0).getName() + "--\x3e" + personListNew.get(0).getSalary());\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("p",[s._v("输出结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("一次改动前：Tom–>8900 一次改动后：Tom–>18900 二次改动前：Tom–>18900 二次改动后：Tom–>18900")])]),s._v(" "),a("h3",{attrs:{id:"案例三-将两个字符数组合并成一个新的字符数组。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例三-将两个字符数组合并成一个新的字符数组。"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("案例三：将两个字符数组合并成一个新的字符数组。")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    List<String> list = Arrays.asList("m,k,l,a", "1,3,5,7");\n    List<String> listNew = list.stream().flatMap(s -> {\n// 将每个元素转换成一个stream\n      String[] split = s.split(",");\n      Stream<String> s2 = Arrays.stream(split);\n      return s2;\n    }).collect(Collectors.toList());\n\n    System.out.println("处理前的集合：" + list);\n    System.out.println("处理后的集合：" + listNew);\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("输出结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("处理前的集合：[m-k-l-a, 1-3-5] 处理后的集合：[m, k, l, a, 1, 3, 5]")])]),s._v(" "),a("h2",{attrs:{id:"_3-5-归约-reduce"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-归约-reduce"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("3.5 归约(reduce)")])])]),s._v(" "),a("p",[s._v("归约，也称缩减，顾名思义，是把一个流缩减成一个值，能实现对集合求和、求乘积和求最值操作。")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://mmbiz.qpic.cn/mmbiz_png/oTKHc6F8tshlcDdYLwybrjgMR9CvUtJxm1sibbFxD2NKcicHpgzJwibWTK87YxJ1En5F9IY4zphhqzdqgkMWibTmWQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://mmbiz.qpic.cn/mmbiz_png/oTKHc6F8tshlcDdYLwybrjgMR9CvUtJxm1sibbFxD2NKcicHpgzJwibWTK87YxJ1En5F9IY4zphhqzdqgkMWibTmWQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"案例一-求integer集合的元素之和、乘积和最大值。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例一-求integer集合的元素之和、乘积和最大值。"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("案例一：求"),a("code",[s._v("Integer")]),s._v("集合的元素之和、乘积和最大值。")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    List<Integer> list = Arrays.asList(1, 3, 2, 8, 11, 4);\n// 求和方式1\n    Optional<Integer> sum = list.stream().reduce((x, y) -> x + y);\n// 求和方式2\n    Optional<Integer> sum2 = list.stream().reduce(Integer::sum);\n// 求和方式3\n    Integer sum3 = list.stream().reduce(0, Integer::sum);\n\n// 求乘积\n    Optional<Integer> product = list.stream().reduce((x, y) -> x * y);\n\n// 求最大值方式1\n    Optional<Integer> max = list.stream().reduce((x, y) -> x > y ? x : y);\n// 求最大值写法2\n    Integer max2 = list.stream().reduce(1, Integer::max);\n\n    System.out.println("list求和：" + sum.get() + "," + sum2.get() + "," + sum3);\n    System.out.println("list求积：" + product.get());\n    System.out.println("list求和：" + max.get() + "," + max2);\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("p",[s._v("输出结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("list求和：29,29,29 list求积：2112 list求和：11,11")])]),s._v(" "),a("h3",{attrs:{id:"案例二-求所有员工的工资之和和最高工资。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例二-求所有员工的工资之和和最高工资。"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("案例二：求所有员工的工资之和和最高工资。")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    List<Person> personList = new ArrayList<Person>();\n    personList.add(new Person("Tom", 8900, 23, "male", "New York"));\n    personList.add(new Person("Jack", 7000, 25, "male", "Washington"));\n    personList.add(new Person("Lily", 7800, 21, "female", "Washington"));\n    personList.add(new Person("Anni", 8200, 24, "female", "New York"));\n    personList.add(new Person("Owen", 9500, 25, "male", "New York"));\n    personList.add(new Person("Alisa", 7900, 26, "female", "New York"));\n\n// 求工资之和方式1：\n    Optional<Integer> sumSalary = personList.stream().map(Person::getSalary).reduce(Integer::sum);\n// 求工资之和方式2：\n    Integer sumSalary2 = personList.stream().reduce(0, (sum, p) -> sum += p.getSalary(),\n        (sum1, sum2) -> sum1 + sum2);\n// 求工资之和方式3：\n    Integer sumSalary3 = personList.stream().reduce(0, (sum, p) -> sum += p.getSalary(), Integer::sum);\n\n// 求最高工资方式1：\n    Integer maxSalary = personList.stream().reduce(0, (max, p) -> max > p.getSalary() ? max : p.getSalary(),\n        Integer::max);\n// 求最高工资方式2：\n    Integer maxSalary2 = personList.stream().reduce(0, (max, p) -> max > p.getSalary() ? max : p.getSalary(),\n        (max1, max2) -> max1 > max2 ? max1 : max2);\n\n    System.out.println("工资之和：" + sumSalary.get() + "," + sumSalary2 + "," + sumSalary3);\n    System.out.println("最高工资：" + maxSalary + "," + maxSalary2);\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("p",[s._v("输出结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("工资之和：49300,49300,49300 最高工资：9500,9500")])]),s._v(" "),a("h2",{attrs:{id:"_3-6-收集-collect"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-收集-collect"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("3.6 收集(collect)")])])]),s._v(" "),a("p",[a("code",[s._v("collect")]),s._v("，收集，可以说是内容最繁多、功能最丰富的部分了。从字面上去理解，就是把一个流收集起来，最终可以是收集成一个值也可以收集成一个新的集合。")]),s._v(" "),a("blockquote",[a("p",[s._v("collect主要依赖java.util.stream.Collectors类内置的静态方法。")])]),s._v(" "),a("h3",{attrs:{id:"_3-6-1-归集-tolist-toset-tomap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-1-归集-tolist-toset-tomap"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("3.6.1 归集(toList/toSet/toMap)")])])]),s._v(" "),a("p",[s._v("因为流不存储数据，那么在流中的数据完成处理后，需要将流中的数据重新归集到新的集合里。"),a("code",[s._v("toList")]),s._v("、"),a("code",[s._v("toSet")]),s._v("和"),a("code",[s._v("toMap")]),s._v("比较常用，另外还有"),a("code",[s._v("toCollection")]),s._v("、"),a("code",[s._v("toConcurrentMap")]),s._v("等复杂一些的用法。")]),s._v(" "),a("p",[s._v("下面用一个案例演示"),a("code",[s._v("toList")]),s._v("、"),a("code",[s._v("toSet")]),s._v("和"),a("code",[s._v("toMap")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    List<Integer> list = Arrays.asList(1, 6, 3, 4, 6, 7, 9, 6, 20);\n    List<Integer> listNew = list.stream().filter(x -> x % 2 == 0).collect(Collectors.toList());\n    Set<Integer> set = list.stream().filter(x -> x % 2 == 0).collect(Collectors.toSet());\n\n    List<Person> personList = new ArrayList<Person>();\n    personList.add(new Person("Tom", 8900, 23, "male", "New York"));\n    personList.add(new Person("Jack", 7000, 25, "male", "Washington"));\n    personList.add(new Person("Lily", 7800, 21, "female", "Washington"));\n    personList.add(new Person("Anni", 8200, 24, "female", "New York"));\n\n    Map<?, Person> map = personList.stream().filter(p -> p.getSalary() > 8000)\n        .collect(Collectors.toMap(Person::getName, p -> p));\n    System.out.println("toList:" + listNew);\n    System.out.println("toSet:" + set);\n    System.out.println("toMap:" + map);\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[s._v("运行结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("toList：[6, 4, 6, 6, 20] toSet：[4, 20, 6] toMap：{Tom=mutest.Person@5fd0d5ae, Anni=mutest.Person@2d98a335}")])]),s._v(" "),a("h3",{attrs:{id:"_3-6-2-统计-count-averaging"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-2-统计-count-averaging"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("3.6.2 统计(count/averaging)")])])]),s._v(" "),a("p",[a("code",[s._v("Collectors")]),s._v("提供了一系列用于数据统计的静态方法：")]),s._v(" "),a("ul",[a("li",[s._v("计数："),a("code",[s._v("count")])]),s._v(" "),a("li",[s._v("平均值："),a("code",[s._v("averagingInt")]),s._v("、"),a("code",[s._v("averagingLong")]),s._v("、"),a("code",[s._v("averagingDouble")])]),s._v(" "),a("li",[s._v("最值："),a("code",[s._v("maxBy")]),s._v("、"),a("code",[s._v("minBy")])]),s._v(" "),a("li",[s._v("求和："),a("code",[s._v("summingInt")]),s._v("、"),a("code",[s._v("summingLong")]),s._v("、"),a("code",[s._v("summingDouble")])]),s._v(" "),a("li",[s._v("统计以上所有："),a("code",[s._v("summarizingInt")]),s._v("、"),a("code",[s._v("summarizingLong")]),s._v("、"),a("code",[s._v("summarizingDouble")])])]),s._v(" "),a("h4",{attrs:{id:"案例-统计员工人数、平均工资、工资总额、最高工资。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例-统计员工人数、平均工资、工资总额、最高工资。"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("案例：统计员工人数、平均工资、工资总额、最高工资。")])]),s._v("*")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    List<Person> personList = new ArrayList<Person>();\n    personList.add(new Person("Tom", 8900, 23, "male", "New York"));\n    personList.add(new Person("Jack", 7000, 25, "male", "Washington"));\n    personList.add(new Person("Lily", 7800, 21, "female", "Washington"));\n\n// 求总数\n    Long count = personList.stream().collect(Collectors.counting());\n// 求平均工资\n    Double average = personList.stream().collect(Collectors.averagingDouble(Person::getSalary));\n// 求最高工资\n    Optional<Integer> max = personList.stream().map(Person::getSalary).collect(Collectors.maxBy(Integer::compare));\n// 求工资之和\n    Integer sum = personList.stream().collect(Collectors.summingInt(Person::getSalary));\n// 一次性统计所有信息\n    DoubleSummaryStatistics collect = personList.stream().collect(Collectors.summarizingDouble(Person::getSalary));\n\n    System.out.println("员工总数：" + count);\n    System.out.println("员工平均工资：" + average);\n    System.out.println("员工工资总和：" + sum);\n    System.out.println("员工工资所有统计：" + collect);\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("p",[s._v("运行结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("员工总数：3 员工平均工资：7900.0 员工工资总和：23700 员工工资所有统计：DoubleSummaryStatistics{count=3, sum=23700.000000,min=7000.000000, average=7900.000000, max=8900.000000}")])]),s._v(" "),a("h3",{attrs:{id:"_3-6-3-分组-partitioningby-groupingby"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-3-分组-partitioningby-groupingby"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("3.6.3 分组(partitioningBy/groupingBy)")])])]),s._v(" "),a("ul",[a("li",[s._v("分区：将"),a("code",[s._v("stream")]),s._v("按条件分为两个"),a("code",[s._v("Map")]),s._v("，比如员工按薪资是否高于8000分为两部分。")]),s._v(" "),a("li",[s._v("分组：将集合分为多个Map，比如员工按性别分组。有单级分组和多级分组。")])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://mmbiz.qpic.cn/mmbiz_png/oTKHc6F8tshlcDdYLwybrjgMR9CvUtJxxgc7mS7KDrhxYeVEibrWib25icv7Q7gzK3U2sTdZnibsl07Hicebsh2HQfQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://mmbiz.qpic.cn/mmbiz_png/oTKHc6F8tshlcDdYLwybrjgMR9CvUtJxxgc7mS7KDrhxYeVEibrWib25icv7Q7gzK3U2sTdZnibsl07Hicebsh2HQfQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"案例-将员工按薪资是否高于8000分为两部分-将员工按性别和地区分组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#案例-将员工按薪资是否高于8000分为两部分-将员工按性别和地区分组"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[a("strong",[s._v("案例：将员工按薪资是否高于8000分为两部分；将员工按性别和地区分组")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    List<Person> personList = new ArrayList<Person>();\n    personList.add(new Person("Tom", 8900, "male", "New York"));\n    personList.add(new Person("Jack", 7000, "male", "Washington"));\n    personList.add(new Person("Lily", 7800, "female", "Washington"));\n    personList.add(new Person("Anni", 8200, "female", "New York"));\n    personList.add(new Person("Owen", 9500, "male", "New York"));\n    personList.add(new Person("Alisa", 7900, "female", "New York"));\n\n// 将员工按薪资是否高于8000分组\n        Map<Boolean, List<Person>> part = personList.stream().collect(Collectors.partitioningBy(x -> x.getSalary() > 8000));\n// 将员工按性别分组\n        Map<String, List<Person>> group = personList.stream().collect(Collectors.groupingBy(Person::getSex));\n// 将员工先按性别分组，再按地区分组\n        Map<String, Map<String, List<Person>>> group2 = personList.stream().collect(Collectors.groupingBy(Person::getSex, Collectors.groupingBy(Person::getArea)));\n        System.out.println("员工按薪资是否大于8000分组情况：" + part);\n        System.out.println("员工按性别分组情况：" + group);\n        System.out.println("员工按性别、地区：" + group2);\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("p",[s._v("输出结果：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("员工按薪资是否大于8000分组情况：{false=[mutest.Person@2d98a335, mutest.Person@16b98e56, mutest.Person@7ef20235], true=[mutest.Person@27d6c5e0, mutest.Person@4f3f5b24, mutest.Person@15aeb7ab]}\n员工按性别分组情况：{female=[mutest.Person@16b98e56, mutest.Person@4f3f5b24, mutest.Person@7ef20235], male=[mutest.Person@27d6c5e0, mutest.Person@2d98a335, mutest.Person@15aeb7ab]}\n员工按性别、地区：{female={New York=[mutest.Person@4f3f5b24, mutest.Person@7ef20235], Washington=[mutest.Person@16b98e56]}, male={New York=[mutest.Person@27d6c5e0, mutest.Person@15aeb7ab], Washington=[mutest.Person@2d98a335]}}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"_3-6-4-接合-joining"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-4-接合-joining"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("3.6.4 接合(joining)")])])]),s._v(" "),a("p",[a("code",[s._v("joining")]),s._v("可以将stream中的元素用特定的连接符（没有的话，则直接连接）连接成一个字符串。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    List<Person> personList = new ArrayList<Person>();\n    personList.add(new Person("Tom", 8900, 23, "male", "New York"));\n    personList.add(new Person("Jack", 7000, 25, "male", "Washington"));\n    personList.add(new Person("Lily", 7800, 21, "female", "Washington"));\n\n    String names = personList.stream().map(p -> p.getName()).collect(Collectors.joining(","));\n    System.out.println("所有员工的姓名：" + names);\n    List<String> list = Arrays.asList("A", "B", "C");\n    String string = list.stream().collect(Collectors.joining("-"));\n    System.out.println("拼接后的字符串：" + string);\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("运行结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("所有员工的姓名：Tom,Jack,Lily 拼接后的字符串：A-B-C")])]),s._v(" "),a("h3",{attrs:{id:"_3-6-5-归约-reducing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-5-归约-reducing"}},[s._v("#")]),s._v(" "),a("strong",[a("strong",[s._v("3.6.5 归约(reducing)")])])]),s._v(" "),a("p",[a("code",[s._v("Collectors")]),s._v("类提供的"),a("code",[s._v("reducing")]),s._v("方法，相比于"),a("code",[s._v("stream")]),s._v("本身的"),a("code",[s._v("reduce")]),s._v("方法，增加了对自定义归约的支持。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    List<Person> personList = new ArrayList<Person>();\n    personList.add(new Person("Tom", 8900, 23, "male", "New York"));\n    personList.add(new Person("Jack", 7000, 25, "male", "Washington"));\n    personList.add(new Person("Lily", 7800, 21, "female", "Washington"));\n\n// 每个员工减去起征点后的薪资之和（这个例子并不严谨，但一时没想到好的例子）\n    Integer sum = personList.stream().collect(Collectors.reducing(0, Person::getSalary, (i, j) -> (i + j - 5000)));\n    System.out.println("员工扣税薪资总和：" + sum);\n\n// stream的reduce\n    Optional<Integer> sum2 = personList.stream().map(Person::getSalary).reduce(Integer::sum);\n    System.out.println("员工薪资总和：" + sum2.get());\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("运行结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("员工扣税薪资总和：8700 员工薪资总和：23700")])]),s._v(" "),a("h2",{attrs:{id:"_3-7-排序-sorted"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-排序-sorted"}},[s._v("#")]),s._v(" "),a("em",[a("strong",[s._v("3.7 排序(sorted)")])])]),s._v(" "),a("p",[s._v("sorted，中间操作。有两种排序：")]),s._v(" "),a("ul",[a("li",[s._v("sorted()：自然排序，流中元素需实现Comparable接口")]),s._v(" "),a("li",[s._v("sorted(Comparator com)：Comparator排序器自定义排序")])]),s._v(" "),a("p",[a("strong",[s._v("案例：将员工按工资由高到低（工资一样则按年龄由大到小）排序")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    List<Person> personList = new ArrayList<Person>();\n\n    personList.add(new Person("Sherry", 9000, 24, "female", "New York"));\n    personList.add(new Person("Tom", 8900, 22, "male", "Washington"));\n    personList.add(new Person("Jack", 9000, 25, "male", "Washington"));\n    personList.add(new Person("Lily", 8800, 26, "male", "New York"));\n    personList.add(new Person("Alisa", 9000, 26, "female", "New York"));\n\n// 按工资升序排序（自然排序）\n    List<String> newList = personList.stream().sorted(Comparator.comparing(Person::getSalary)).map(Person::getName)\n        .collect(Collectors.toList());\n// 按工资倒序排序\n    List<String> newList2 = personList.stream().sorted(Comparator.comparing(Person::getSalary).reversed())\n        .map(Person::getName).collect(Collectors.toList());\n// 先按工资再按年龄升序排序\n    List<String> newList3 = personList.stream()\n        .sorted(Comparator.comparing(Person::getSalary).thenComparing(Person::getAge)).map(Person::getName)\n        .collect(Collectors.toList());\n// 先按工资再按年龄自定义排序（降序）\n    List<String> newList4 = personList.stream().sorted((p1, p2) -> {\n      if (p1.getSalary() == p2.getSalary()) {\n        return p2.getAge() - p1.getAge();\n      } else {\n        return p2.getSalary() - p1.getSalary();\n      }\n    }).map(Person::getName).collect(Collectors.toList());\n\n    System.out.println("按工资升序排序：" + newList);\n    System.out.println("按工资降序排序：" + newList2);\n    System.out.println("先按工资再按年龄升序排序：" + newList3);\n    System.out.println("先按工资再按年龄自定义降序排序：" + newList4);\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br")])]),a("p",[s._v("运行结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("按工资升序排序：[Lily, Tom, Sherry, Jack, Alisa] 按工资降序排序：[Sherry, Jack, Alisa, Tom, Lily] 先按工资再按年龄升序排序：[Lily, Tom, Sherry, Jack, Alisa] 先按工资再按年龄自定义降序排序：[Alisa, Jack, Sherry, Tom, Lily]")])]),s._v(" "),a("h2",{attrs:{id:"_3-8-提取-组合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-提取-组合"}},[s._v("#")]),s._v(" "),a("strong",[s._v("3.8 提取/组合")])]),s._v(" "),a("p",[s._v("流也可以进行合并、去重、限制、跳过等操作。")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://mmbiz.qpic.cn/mmbiz_jpg/oTKHc6F8tshlcDdYLwybrjgMR9CvUtJxib2AKRxUOoTchOZALI1QBw842MtU1BVThOkMbuk7RDqp3QSvzSDWbDg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://mmbiz.qpic.cn/mmbiz_jpg/oTKHc6F8tshlcDdYLwybrjgMR9CvUtJxib2AKRxUOoTchOZALI1QBw842MtU1BVThOkMbuk7RDqp3QSvzSDWbDg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://mmbiz.qpic.cn/mmbiz_jpg/oTKHc6F8tshlcDdYLwybrjgMR9CvUtJxIYqUenVAFm8MpRRdUmN0GA3XQXYkwnkXzVlG9iciazV6PSTYvt8IY1iaQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://mmbiz.qpic.cn/mmbiz_jpg/oTKHc6F8tshlcDdYLwybrjgMR9CvUtJxIYqUenVAFm8MpRRdUmN0GA3XQXYkwnkXzVlG9iciazV6PSTYvt8IY1iaQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://mmbiz.qpic.cn/mmbiz_jpg/oTKHc6F8tshlcDdYLwybrjgMR9CvUtJxh8m7w7tfQ5NSGLarvrN4F6G1OqvESLAh7WXymBxJmibCBu6FeibtmCdg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://mmbiz.qpic.cn/mmbiz_jpg/oTKHc6F8tshlcDdYLwybrjgMR9CvUtJxh8m7w7tfQ5NSGLarvrN4F6G1OqvESLAh7WXymBxJmibCBu6FeibtmCdg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public class StreamTest {\n  public static void main(String[] args) {\n    String[] arr1 = { "a", "b", "c", "d" };\n    String[] arr2 = { "d", "e", "f", "g" };\n\n    Stream<String> stream1 = Stream.of(arr1);\n    Stream<String> stream2 = Stream.of(arr2);\n// concat:合并两个流 distinct：去重\n    List<String> newList = Stream.concat(stream1, stream2).distinct().collect(Collectors.toList());\n// limit：限制从流中获得前n个数据\n    List<Integer> collect = Stream.iterate(1, x -> x + 2).limit(10).collect(Collectors.toList());\n// skip：跳过前n个数据\n    List<Integer> collect2 = Stream.iterate(1, x -> x + 2).skip(1).limit(5).collect(Collectors.toList());\n\n    System.out.println("流合并：" + newList);\n    System.out.println("limit：" + collect);\n    System.out.println("skip：" + collect2);\n  }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[s._v("运行结果：")]),s._v(" "),a("blockquote",[a("p",[s._v("流合并：[a, b, c, d, e, f, g] limit：[1, 3, 5, 7, 9, 11, 13, 15, 17, 19] skip：[3, 5, 7, 9, 11]")])]),s._v(" "),a("p",[s._v("好，以上就是全部内容，能坚持看到这里，你一定很有收获。")]),s._v(" "),a("hr"),s._v(" "),a("p",[a("a",{attrs:{href:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="}},[s._v("data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==")])])])}),[],!1,null,null,null);n.default=t.exports}}]);